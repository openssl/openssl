# DSMIL Policy Provider Build Configuration
#
# This provider enforces DSMIL security profiles and emits telemetry events.
#
# Phase 1: Basic skeleton (complete)
# Phase 2: Full policy enforcement (complete)
# Phase 3: Event telemetry (complete)
# Phase 6: CSNA integration & side-channel hardening (complete)
# Phase 7: TPM integration (complete)

# Provider library goal
$DSMIL_GOAL=../../libdsmil.a

# Source files (Phases 1-7 complete)
SOURCE[$DSMIL_GOAL]=dsmilprov.c policy.c policy_enhanced.c events.c tpm_integration.c

# Include paths
INCLUDE[$DSMIL_GOAL]=../common/include ../implementations/include

# Dependencies
DEPEND[dsmilprov.o]=policy.h policy_enhanced.h events.h tpm_integration.h csna.h
DEPEND[policy.o]=policy.h
DEPEND[policy_enhanced.o]=policy.h policy_enhanced.h events.h
DEPEND[events.o]=events.h policy.h
DEPEND[tpm_integration.o]=tpm_integration.h tpm2_compat.h policy.h events.h
