# We make separate GOAL variables for each algorithm, to make it easy to
# switch each to the Legacy provider when needed.

$SHA1_GOAL=../../libimplementations.a
$SHA2_GOAL=../../libimplementations.a
$SHA3_GOAL=../../libimplementations.a
$BLAKE2_GOAL=../../libimplementations.a
$SM3_GOAL=../../libimplementations.a
$MD5_GOAL=../../libimplementations.a

$MD2_GOAL=../../liblegacy.a
$MD4_GOAL=../../liblegacy.a
$MDC2_GOAL=../../liblegacy.a
$WHIRLPOOL_GOAL=../../liblegacy.a
$RIPEMD_GOAL=../../liblegacy.a

SOURCE[$SHA2_GOAL]=sha2_prov.c
SOURCE[$SHA3_GOAL]=sha3_prov.c

$GOAL=../../libimplementations.a

IF[{- !$disabled{blake2} -}]
  SOURCE[$BLAKE2_GOAL]=blake2_prov.c blake2b_prov.c blake2s_prov.c
ENDIF

IF[{- !$disabled{sm3} -}]
  SOURCE[$SM3_GOAL]=sm3_prov.c
ENDIF

IF[{- !$disabled{md5} -}]
  SOURCE[$MD5_GOAL]=md5_prov.c md5_sha1_prov.c
ENDIF

IF[{- !$disabled{md2} -}]
  SOURCE[$MD2_GOAL]=md2_prov.c
ENDIF

IF[{- !$disabled{md4} -}]
  SOURCE[$MD4_GOAL]=md4_prov.c
ENDIF

IF[{- !$disabled{mdc2} -}]
  SOURCE[$MDC2_GOAL]=mdc2_prov.c
ENDIF

IF[{- !$disabled{whirlpool} -}]
  SOURCE[$WHIRLPOOL_GOAL]=wp_prov.c
ENDIF

IF[{- !$disabled{rmd160} -}]
  SOURCE[$RIPEMD_GOAL]=ripemd_prov.c
ENDIF
