HOW TO CONTRIBUTE TO OpenSSL
============================

Table of Contents
=================

 - [Reporting issues](#Reporting-Issues)
 - [Submitting patches](#Submitting-Patches)
 - [Reviewing patches](#Reviewing-Patches)

Please visit our [Getting Started] page for other ideas about how to contribute.

  [Getting Started]: <https://openssl-library.org/community/getting-started>

Development is done on GitHub in the [openssl/openssl] repository.

  [openssl/openssl]: <https://github.com/openssl/openssl>

Reporting Issues
================

To request a new feature, ask a question, or report a bug,
please open an [issue on GitHub](https://github.com/openssl/openssl/issues).

Submitting Patches
==================

To submit a patch or implement a new feature, please open a
[pull request on GitHub](https://github.com/openssl/openssl/pulls).
If you are thinking of making a large contribution,
open an issue for it before starting work, to get comments from the community.
Someone may be already working on the same thing,
or there may be special reasons why a feature is not implemented.

Similarly, if you plan to submit many pull requests, please start with
a representative sample (no more than 3 or 4) and open an issue
explaining your process. The OpenSSL project has limited resources,
especially when it comes to reviewers, so we appreciate advanced
communication before submitting many pull requests. In addition,
contributors should personally evaluate potential patches generated by
automated tools.

Provide a clear description of the issue or feature being addressed,
including any relevant implementation details and, for performance
improvements, benchmark results.

Pull requests and commits should be self-contained, enabling readers to
understand what changed and why without needing to reference related
issues or having prior knowledge.  Commit messages should include all
relevant details to help future contributors follow the git history,
with clear explanations of what is changing and why.  Long descriptions
are encouraged if they aid understanding.  Commit message titles (their
first line) should be kept to 50-70 characters if possible.

To make it easier to review and accept your pull request, please follow these
guidelines:

 1. Anything other than a trivial contribution requires a [Contributor
    License Agreement] (CLA), giving us permission to use your code.
    If your contribution is too small to require a CLA (e.g., fixing a spelling
    mistake), then place the text "`CLA: trivial`" on a line by itself below
    the rest of your commit message separated by an empty line, like this:

    ```
        One-line summary of trivial change

        Optional main body of commit message. It might contain a sentence
        or two explaining the trivial change.

        CLA: trivial
    ```

    It is not sufficient to only place the text "`CLA: trivial`" in the GitHub
    pull request description.

    [Contributor License Agreement]: <https://www.openssl.org/policies/cla.html>

    To amend a missing "`CLA: trivial`" line after submission, do the following:

    ```
        git commit --amend
        # add the line, save and quit the editor
        git push -f [<repository> [<branch>]]
    ```

 2. All source files should start with the following text (with
    appropriate comment characters at the start of each line and the
    year(s) updated):

    ```
        Copyright 20xx-20yy The OpenSSL Project Authors. All Rights Reserved.

        Licensed under the Apache License 2.0 (the "License").  You may not use
        this file except in compliance with the License.  You can obtain a copy
        in the file LICENSE in the source distribution or at
        https://www.openssl.org/source/license.html
    ```

 3. Patches should be as current as possible; expect to have to rebase
    often. We do not accept merge commits, you will have to remove them
    (usually by rebasing) before it will be acceptable.

 4. Code provided should follow our [coding style] and [documentation policy]
    and compile without warnings.
    Consistent formatting is enforced by using `clang-format` with configuration
    stored in [.clang-format](.clang-format). OpenSSL uses `WebKit` style.
    You can configure git pre-commit to automatically reformat your code with
    [.pre-commit-config.yaml](.pre-commit-config.yaml) configuration.
    There is also a [Perl tool](util/reformat-patches.sh) to help with
    reformatting existing patches.

    Where `gcc` or `clang` is available, you should use the
    `--strict-warnings` `Configure` option.  OpenSSL compiles on many varied
    platforms: try to ensure you only use portable features.
    Clean builds via GitHub Actions are required. They are started automatically
    whenever a PR is created or updated by committers.

    [coding style]: https://openssl-library.org/policies/technical/coding-style/
    [documentation policy]: https://openssl-library.org/policies/technical/documentation-policy/

 5. When at all possible, code contributions should include tests. These can
    either be added to an existing test, or completely new.  Please see
    [test/README.md](test/README.md) for information on the test framework.

 6. New features or changed functionality must include
    documentation. Please look at the `.pod` files in `doc/man[1357]` for
    examples of our style. Run `make doc-nits` to make sure that your
    documentation changes are clean.

 7. For user visible changes (API changes, behaviour changes, ...),
    consider adding a note in [CHANGES.md](CHANGES.md).
    This could be a summarising description of the change, and could
    explain the grander details.
    Have a look through existing entries for inspiration.
    Please note that this is NOT simply a copy of git-log one-liners.
    Also note that security fixes get an entry in [CHANGES.md](CHANGES.md).
    This file helps users get more in-depth information of what comes
    with a specific release without having to sift through the higher
    noise ratio in git-log.

 8. Guidelines on how to integrate error output of new crypto library modules
    can be found in [crypto/err/README.md](crypto/err/README.md).

Reviewing Patches
=================

The OpenSSL project is large, with many areas of code that fall outside the
subject matter expertise of the core project developers.  In addition to the
authoring of features and bug fixes for the project, the entire community
benefits from the review of these changes by other community members.  Any
participant is welcome and encouraged to participate in the review process by
commenting on PRs relevant to their expertise.

If you, as a community member wish to gain more visibility on PRs which you
feel might be relevant to you and your area of expertise, you are welcome to
add your GitHub user ID to our `REVIEWERS.json` file, by opening a PR to modify
it.

The `REVIEWERS.json` file is used by our core development team to
identify those community members who may be interested in changes affecting
various areas of code.

The `REVIEWERS.json` file is in JSON format, and consists of 3 main sections

The "groups" section:  This is a JSON array consisting of objects that identify
topics of potential interest (e.g. "ARM/AARCH64" code).  Each group lists the
set of GitHub user IDs that belong to that group.

The "platform" section: This is a JSON array listing all of the available
targets that OpenSSL may be built for.  Each platform names groups in the
group section, identifying those groups interested in that platform.

The "codegroup" section: The "codegroup" section: This section is a JSON array
containing regex values to match on changed code paths and on content in a
patch, along with a list of groups from the "groups" section are interested in
those corresponding changes.

If you have interest in being informed of a given change, so that you can
better see reviews relevant to your area of interest, feel free to open a PR
adding your GitBug user ID to a given group.

Note that, none of the groups, platforms, or codegroups list is meant to remain
static.  If there is an area of code not currently covered by the codegroups
array, or a platform not covered by the platform array, or if you feel a new
group is warranted, feel free to open a PR that adds to any of these to better
reflect your interests.

The core development team can then use the ([util/get_reviewers.py]) utility to
parse the `REVIEWERS.json` file and more easily identify you as someone who may
want to participate in a review by mentioning you in the corresponding PR.

[util/get_reviewers.py]: https://github.com/openssl/openssl/blob/master/util/get_reviewers.py
